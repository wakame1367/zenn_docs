---
title: "[solafune] è¡›æ˜Ÿç”»åƒã‹ã‚‰ç©ºæ¸¯åˆ©ç”¨è€…æ•°äºˆæ¸¬ã®EDA" # è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
emoji: "ğŸ˜¸" # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["Python", "solafune"] # ã‚¿ã‚°ã€‚["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: true # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---

# ã¯ã˜ã‚ã«
[solafune - è¡›æ˜Ÿç”»åƒã‹ã‚‰ç©ºæ¸¯åˆ©ç”¨è€…æ•°ã‚’äºˆæ¸¬](https://solafune.com/#/competitions/ea90cba4-3e01-42df-9516-9ac0d7a44204)ã§ç°¡å˜ã«EDAã—ãŸçµæœã‚’ä»¥ä¸‹ã«ã¾ã¨ã‚ã¾ã™ã€‚

ã¾ãŸã€[solafune - è¡›æ˜Ÿç”»åƒã‹ã‚‰ç©ºæ¸¯åˆ©ç”¨è€…æ•°ã‚’äºˆæ¸¬ ãƒ«ãƒ¼ãƒ«(æƒ…å ±ã®å–ã‚Šæ‰±ã„)](https://solafune.com/#/competitions/ea90cba4-3e01-42df-9516-9ac0d7a44204)ã‚ˆã‚Š

> ãŸã ã—ã€å…¬é–‹ã—ãŸéš›ã«ã¯ã€å…¨ã¦ã®å‚åŠ è€…ãŒé–²è¦§ã§ãã‚‹ã‚ˆã†ãªçŠ¶æ…‹ã«ã—ã¦ãã ã•ã„ã€‚

ã¨ã„ã†ã“ã¨ãªã®ã§zennã«ã¦å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé–²è¦§ã§ãã‚‹çŠ¶æ…‹ã§å…¬é–‹è‡´ã—ã¾ã™ã€‚

cf. @solafune (https://solafune.com)

# æ¦‚è¦
ç”»åƒã‚³ãƒ³ãƒšã¨ã„ã†ã“ã¨ãªã®ã§å­¦ç¿’ç”¨/ãƒ†ã‚¹ãƒˆç”¨/ã‚¹ã‚³ã‚¢è©•ä¾¡ ç”»åƒãƒ‡ãƒ¼ã‚¿ã«é‡è¤‡ãŒãªã„ã‹èª¿ã¹ã¾ã—ãŸã€‚èª¿æŸ»æ™‚ã«ã¯ã“ã¡ã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’ä¸»ã«åˆ©ç”¨ã—ã¾ã—ãŸã€‚
[Github - idealo/imagededup](https://github.com/idealo/imagededup)

ã¾ãŸèª¿æŸ»æ™‚ã«ä½œæˆã—ãŸGoogleColabratoryã€JupyterNotebookã¯æ¬¡ã®URLã«ã¦å…¬é–‹ã—ã¾ã—ãŸã€‚ä»¥é™ã®èª¬æ˜ã¯ã™ã£ã¨ã°ã—ã¦åŒã˜ã“ã¨ã‚’è©¦ã—ãŸã„ã¨ã„ã†æ–¹ã¯æ¬¡ã®URLã‚’è¦‹ãŸã»ã†ãŒæ—©ã„ã§ã™ã€‚

[GoogleColabratory - image_similarity.ipynb](https://colab.research.google.com/drive/1EJnYEzrhX4ctc1kWlXm_xWRz3FxlnzhJ?usp=sharing)

## ç”»åƒé¡ä¼¼åº¦æ¯”è¼ƒã‚’ã™ã‚‹å‰æº–å‚™

ä¸»ã«CSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã‚„ç”»åƒZIPãƒ•ã‚¡ã‚¤ãƒ«ã®è§£å‡ã‚’ã—ã¦ã„ã¾ã™ã€‚`drive_path`ã«ã¤ã„ã¦ã¯å„è‡ªsolafuneã‹ã‚‰DLã—ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ ¼ç´å…ˆãŒç•°ãªã‚‹ã®ã§é©å½“ãªãƒ‘ã‚¹ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€åŒæ§˜ã«ç”»åƒZIPãƒ•ã‚¡ã‚¤ãƒ«ã®è§£å‡æ™‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚ã€‚

```python
!pip install -q imagededup

from google.colab import drive
drive.mount('/content/drive/')

from pathlib import Path

# å„è‡ªsolafuneã‹ã‚‰DLã—ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ ¼ç´å…ˆã¸ã®ãƒ‘ã‚¹ã‚’è¨­å®šã—ã¦ãã ã•ã„
drive_path = Path("solafune_data_path")

import pandas as pd

cols = ['file_name', 'user_count']
train_labels = pd.read_csv(drive_path / "traindataset_anotated.csv", header=None)
test_labels = pd.read_csv(drive_path / "testdataset_anotated.csv", header=None)
# headerãŒãªã„ã®ã§é©å½“ãªheaderã‚’ã‚»ãƒƒãƒˆ
train_labels.columns = cols
test_labels.columns = cols

# ç”»åƒç¾¤zipãƒ•ã‚¡ã‚¤ãƒ«ã®è§£å‡
!cp 'solafune_data_path/trainimage.zip' ./
!cp 'solafune_data_path/testimage.zip' ./
!cp 'solafune_data_path/evaluatemodel.zip' ./
!unzip -q trainimage.zip
!unzip -q testimage.zip
!unzip -q evaluatemodel.zip
```

## imagededupã‚’åˆ©ç”¨ã—ãŸç”»åƒé¡ä¼¼åº¦æ¯”è¼ƒâ‘ 
ç”»åƒã®é¡ä¼¼åº¦ã¯Perceptual Hash(PHash)ç”¨ã„ã¦è¨ˆç®—ã—ã¾ã—ãŸã€‚PHashã‚’æŒ‡å®šã—ãŸç†ç”±ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€æ°—ã«ãªã‚‹æ–¹ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å¤‰ãˆã¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¯”è¼ƒå…ƒã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¨æ¯”è¼ƒå…ˆã®é¡ä¼¼åº¦ãŒé–¾å€¤ä»¥ä¸Šã§ã‚ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã®çµæœã‚’è¦‹ã‚‹ã¨`trainimage/testimage/evaluatemodel`ãã‚Œãã‚Œã®ãƒ•ã‚©ãƒ«ãƒ€æ¯ã«é¡ä¼¼ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

```python
from imagededup.methods import PHash
phasher = PHash()

encodings = phasher.encode_images(image_dir='image')
duplicates = phasher.find_duplicates(encoding_map=encodings)

for k, v in duplicates.items():
    if v:
        print(k, v)
```

å‡ºåŠ›çµæœã§ã™ãŒã ã„ã¶é•·ããªã£ã¦ã—ã¾ã£ãŸã®ã§æŠ˜ã‚Šç•³ã‚“ã§ã‚ã‚Šã¾ã™ã€è¡¨ç¤ºã™ã‚‹éš›ã¯æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„ã€‚

:::details ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›çµæœ(ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å±•é–‹ã•ã‚Œã¾ã™)

```
train_14.jpg ['train_11.jpg', 'train_13.jpg', 'train_15.jpg', 'train_10.jpg', 'train_12.jpg']
train_38.jpg ['train_36.jpg', 'train_40.jpg', 'train_37.jpg', 'train_39.jpg']
comp_50.jpg ['comp_53.jpg', 'comp_48.jpg', 'comp_49.jpg']
train_27.jpg ['train_26.jpg', 'train_25.jpg']
comp_53.jpg ['comp_50.jpg', 'comp_48.jpg', 'comp_49.jpg']
comp_48.jpg ['comp_49.jpg', 'comp_53.jpg', 'comp_50.jpg', 'comp_51.jpg', 'comp_52.jpg']
comp_57.jpg ['comp_55.jpg']
test_10.jpg ['test_9.jpg']
train_23.jpg ['train_24.jpg', 'train_20.jpg', 'train_21.jpg', 'train_22.jpg']
comp_37.jpg ['comp_38.jpg']
train_52.jpg ['train_53.jpg', 'train_51.jpg']
train_57.jpg ['train_55.jpg']
train_8.jpg ['train_7.jpg', 'train_9.jpg', 'train_5.jpg']
train_15.jpg ['train_10.jpg', 'train_12.jpg', 'train_14.jpg', 'train_13.jpg', 'train_11.jpg']
test_14.jpg ['test_17.jpg']
train_50.jpg ['train_47.jpg', 'train_48.jpg']
comp_8.jpg ['comp_9.jpg', 'comp_7.jpg']
comp_38.jpg ['comp_37.jpg']
comp_17.jpg ['comp_18.jpg']
train_2.jpg ['train_0.jpg']
comp_10.jpg ['comp_15.jpg', 'comp_12.jpg', 'comp_13.jpg', 'comp_14.jpg', 'comp_11.jpg']
train_40.jpg ['train_38.jpg']
comp_9.jpg ['comp_8.jpg', 'comp_7.jpg']
train_37.jpg ['train_38.jpg']
comp_55.jpg ['comp_57.jpg', 'comp_56.jpg']
train_21.jpg ['train_23.jpg', 'train_24.jpg', 'train_22.jpg', 'train_20.jpg']
comp_18.jpg ['comp_17.jpg']
test_4.jpg ['test_1.jpg', 'test_2.jpg']
train_44.jpg ['train_46.jpg']
train_25.jpg ['train_26.jpg', 'train_27.jpg']
train_19.jpg ['train_18.jpg', 'train_17.jpg', 'train_16.jpg']
train_24.jpg ['train_23.jpg', 'train_20.jpg', 'train_21.jpg', 'train_22.jpg']
comp_51.jpg ['comp_52.jpg', 'comp_48.jpg', 'comp_49.jpg']
test_7.jpg ['test_6.jpg', 'test_5.jpg']
train_5.jpg ['train_8.jpg', 'train_7.jpg']
comp_24.jpg ['comp_21.jpg', 'comp_26.jpg']
train_48.jpg ['train_50.jpg']
train_53.jpg ['train_52.jpg', 'train_51.jpg']
comp_4.jpg ['comp_6.jpg', 'comp_5.jpg']
comp_15.jpg ['comp_14.jpg', 'comp_10.jpg', 'comp_13.jpg', 'comp_11.jpg', 'comp_12.jpg']
train_39.jpg ['train_38.jpg', 'train_36.jpg']
train_46.jpg ['train_45.jpg', 'train_44.jpg']
comp_49.jpg ['comp_48.jpg', 'comp_50.jpg', 'comp_53.jpg', 'comp_52.jpg', 'comp_51.jpg']
train_13.jpg ['train_11.jpg', 'train_14.jpg', 'train_15.jpg', 'train_10.jpg', 'train_12.jpg']
comp_3.jpg ['comp_2.jpg', 'comp_1.jpg', 'comp_0.jpg']
test_2.jpg ['test_4.jpg']
train_26.jpg ['train_27.jpg', 'train_25.jpg']
comp_26.jpg ['comp_24.jpg']
train_47.jpg ['train_50.jpg']
train_10.jpg ['train_12.jpg', 'train_15.jpg', 'train_14.jpg', 'train_13.jpg', 'train_11.jpg']
comp_21.jpg ['comp_24.jpg', 'comp_25.jpg']
train_22.jpg ['train_23.jpg', 'train_21.jpg', 'train_24.jpg', 'train_20.jpg']
comp_2.jpg ['comp_3.jpg', 'comp_1.jpg', 'comp_0.jpg']
train_36.jpg ['train_38.jpg', 'train_39.jpg']
comp_6.jpg ['comp_4.jpg', 'comp_5.jpg']
train_18.jpg ['train_17.jpg', 'train_19.jpg', 'train_16.jpg']
test_5.jpg ['test_6.jpg', 'test_7.jpg']
comp_11.jpg ['comp_12.jpg', 'comp_15.jpg', 'comp_14.jpg', 'comp_13.jpg', 'comp_10.jpg']
train_11.jpg ['train_14.jpg', 'train_13.jpg', 'train_15.jpg', 'train_10.jpg', 'train_12.jpg']
train_4.jpg ['train_0.jpg']
train_7.jpg ['train_8.jpg', 'train_9.jpg', 'train_5.jpg']
comp_12.jpg ['comp_10.jpg', 'comp_11.jpg', 'comp_14.jpg', 'comp_15.jpg', 'comp_13.jpg']
train_20.jpg ['train_23.jpg', 'train_24.jpg', 'train_21.jpg', 'train_22.jpg']
comp_14.jpg ['comp_15.jpg', 'comp_13.jpg', 'comp_12.jpg', 'comp_10.jpg', 'comp_11.jpg']
comp_13.jpg ['comp_14.jpg', 'comp_10.jpg', 'comp_15.jpg', 'comp_11.jpg', 'comp_12.jpg']
train_17.jpg ['train_18.jpg', 'train_19.jpg', 'train_16.jpg']
train_55.jpg ['train_57.jpg']
comp_56.jpg ['comp_55.jpg']
test_6.jpg ['test_7.jpg', 'test_5.jpg']
comp_0.jpg ['comp_3.jpg', 'comp_2.jpg']
train_12.jpg ['train_10.jpg', 'train_15.jpg', 'train_14.jpg', 'train_11.jpg', 'train_13.jpg']
comp_25.jpg ['comp_21.jpg']
train_0.jpg ['train_2.jpg', 'train_4.jpg']
test_17.jpg ['test_14.jpg', 'test_15.jpg']
test_15.jpg ['test_17.jpg']
train_45.jpg ['train_46.jpg']
comp_5.jpg ['comp_4.jpg', 'comp_6.jpg']
comp_52.jpg ['comp_51.jpg', 'comp_49.jpg', 'comp_48.jpg']
test_1.jpg ['test_4.jpg']
comp_1.jpg ['comp_2.jpg', 'comp_3.jpg']
train_16.jpg ['train_19.jpg', 'train_18.jpg', 'train_17.jpg']
train_9.jpg ['train_8.jpg', 'train_7.jpg']
train_51.jpg ['train_52.jpg', 'train_53.jpg']
test_9.jpg ['test_10.jpg']
comp_7.jpg ['comp_8.jpg', 'comp_9.jpg']
```

:::

## imagededupã‚’åˆ©ç”¨ã—ãŸç”»åƒé¡ä¼¼åº¦æ¯”è¼ƒâ‘¡

ã¾ãŸãƒ©ãƒ™ãƒ«ä»˜ãã§ã‚ã‚‹`train/testimage`ã«ã¤ã„ã¦ã€é¡ä¼¼ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åã¨ãƒ©ãƒ™ãƒ«ã‚’ä¸¦ã¹ã¦è¡¨ç¤ºã—ã¦ã¿ã¾ã—ãŸã€‚

ã“ã®çµæœã‹ã‚‰ãŠãã‚‰ãã¯é¡ä¼¼ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯åŒã˜ç©ºæ¸¯ã‚’æ’®å½±ã—ãŸç”»åƒãªã®ã§ã¯ãªã„ã‹ã¨äºˆæ¸¬ã§ãã¾ã™ã€‚

```python
for k, v in duplicates.items():
    if v:
        filenames = v
        filenames.append(k)
        if k.startswith('train'):
            print(train_labels[train_labels.file_name.isin(filenames)])
        elif k.startswith('test'):
            print(test_labels[test_labels.file_name.isin(filenames)])
        else:
            # comp
            pass
```

å‡ºåŠ›çµæœã§ã™ãŒã“ã¡ã‚‰ã‚‚åŒæ§˜ã«ã ã„ã¶é•·ããªã£ã¦ã—ã¾ã£ãŸã®ã§æŠ˜ã‚Šç•³ã‚“ã§ã‚ã‚Šã¾ã™ã€è¡¨ç¤ºã™ã‚‹éš›ã¯æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„ã€‚

:::details ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›çµæœ(ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å±•é–‹ã•ã‚Œã¾ã™)

```
   file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
       file_name  user_count
36  train_36.jpg      884467
37  train_37.jpg      870028
38  train_38.jpg      830431
39  train_39.jpg      758354
40  train_40.jpg      808441
       file_name  user_count
25  train_25.jpg      152164
26  train_26.jpg      124207
27  train_27.jpg      124207
      file_name  user_count
9    test_9.jpg     2366077
10  test_10.jpg     2381354
       file_name  user_count
20  train_20.jpg     2541446
21  train_21.jpg     2466061
22  train_22.jpg     2411634
23  train_23.jpg     2068766
24  train_24.jpg     2117984
       file_name  user_count
51  train_51.jpg     2964163
52  train_52.jpg     2706397
53  train_53.jpg     2330076
       file_name  user_count
55  train_55.jpg     2826277
57  train_57.jpg     1717102
     file_name  user_count
5  train_5.jpg     1497688
7  train_7.jpg     1335911
8  train_8.jpg     1193869
9  train_9.jpg     1273146
       file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
      file_name  user_count
14  test_14.jpg    11617797
17  test_17.jpg     8636108
       file_name  user_count
47  train_47.jpg     1242760
48  train_48.jpg     1095224
50  train_50.jpg      941877
     file_name  user_count
0  train_0.jpg     3137184
2  train_2.jpg     3107076
       file_name  user_count
38  train_38.jpg      830431
40  train_40.jpg      808441
       file_name  user_count
37  train_37.jpg      870028
38  train_38.jpg      830431
       file_name  user_count
20  train_20.jpg     2541446
21  train_21.jpg     2466061
22  train_22.jpg     2411634
23  train_23.jpg     2068766
24  train_24.jpg     2117984
    file_name  user_count
1  test_1.jpg     5596210
2  test_2.jpg     5539453
4  test_4.jpg     4461208
       file_name  user_count
44  train_44.jpg      847546
46  train_46.jpg      692259
       file_name  user_count
25  train_25.jpg      152164
26  train_26.jpg      124207
27  train_27.jpg      124207
       file_name  user_count
16  train_16.jpg    66823414
17  train_17.jpg    61934302
18  train_18.jpg    64211074
19  train_19.jpg    62598351
       file_name  user_count
20  train_20.jpg     2541446
21  train_21.jpg     2466061
22  train_22.jpg     2411634
23  train_23.jpg     2068766
24  train_24.jpg     2117984
    file_name  user_count
5  test_5.jpg    17656262
6  test_6.jpg    16537566
7  test_7.jpg    16748180
     file_name  user_count
5  train_5.jpg     1497688
7  train_7.jpg     1335911
8  train_8.jpg     1193869
       file_name  user_count
48  train_48.jpg     1095224
50  train_50.jpg      941877
       file_name  user_count
51  train_51.jpg     2964163
52  train_52.jpg     2706397
53  train_53.jpg     2330076
       file_name  user_count
36  train_36.jpg      884467
38  train_38.jpg      830431
39  train_39.jpg      758354
       file_name  user_count
44  train_44.jpg      847546
45  train_45.jpg      782770
46  train_46.jpg      692259
       file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
    file_name  user_count
2  test_2.jpg     5539453
4  test_4.jpg     4461208
       file_name  user_count
25  train_25.jpg      152164
26  train_26.jpg      124207
27  train_27.jpg      124207
       file_name  user_count
47  train_47.jpg     1242760
50  train_50.jpg      941877
       file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
       file_name  user_count
20  train_20.jpg     2541446
21  train_21.jpg     2466061
22  train_22.jpg     2411634
23  train_23.jpg     2068766
24  train_24.jpg     2117984
       file_name  user_count
36  train_36.jpg      884467
38  train_38.jpg      830431
39  train_39.jpg      758354
       file_name  user_count
16  train_16.jpg    66823414
17  train_17.jpg    61934302
18  train_18.jpg    64211074
19  train_19.jpg    62598351
    file_name  user_count
5  test_5.jpg    17656262
6  test_6.jpg    16537566
7  test_7.jpg    16748180
       file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
     file_name  user_count
0  train_0.jpg     3137184
4  train_4.jpg     2816245
     file_name  user_count
5  train_5.jpg     1497688
7  train_7.jpg     1335911
8  train_8.jpg     1193869
9  train_9.jpg     1273146
       file_name  user_count
20  train_20.jpg     2541446
21  train_21.jpg     2466061
22  train_22.jpg     2411634
23  train_23.jpg     2068766
24  train_24.jpg     2117984
       file_name  user_count
16  train_16.jpg    66823414
17  train_17.jpg    61934302
18  train_18.jpg    64211074
19  train_19.jpg    62598351
       file_name  user_count
55  train_55.jpg     2826277
57  train_57.jpg     1717102
    file_name  user_count
5  test_5.jpg    17656262
6  test_6.jpg    16537566
7  test_7.jpg    16748180
       file_name  user_count
10  train_10.jpg      909512
11  train_11.jpg      900021
12  train_12.jpg      872088
13  train_13.jpg      787645
14  train_14.jpg      795973
15  train_15.jpg      743852
     file_name  user_count
0  train_0.jpg     3137184
2  train_2.jpg     3107076
4  train_4.jpg     2816245
      file_name  user_count
14  test_14.jpg    11617797
15  test_15.jpg    10994749
17  test_17.jpg     8636108
      file_name  user_count
15  test_15.jpg    10994749
17  test_17.jpg     8636108
       file_name  user_count
45  train_45.jpg      782770
46  train_46.jpg      692259
    file_name  user_count
1  test_1.jpg     5596210
4  test_4.jpg     4461208
       file_name  user_count
16  train_16.jpg    66823414
17  train_17.jpg    61934302
18  train_18.jpg    64211074
19  train_19.jpg    62598351
     file_name  user_count
7  train_7.jpg     1335911
8  train_8.jpg     1193869
9  train_9.jpg     1273146
       file_name  user_count
51  train_51.jpg     2964163
52  train_52.jpg     2706397
53  train_53.jpg     2330076
      file_name  user_count
9    test_9.jpg     2366077
10  test_10.jpg     2381354
```

:::

## imagededupã‚’åˆ©ç”¨ã—ãŸç”»åƒé¡ä¼¼åº¦æ¯”è¼ƒâ‘¢

æœ€å¾Œã«å®Ÿéš›ã®é¡ä¼¼ç”»åƒã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã™ã€‚çµæœã‚’è¼‰ã›ãŸã‹ã£ãŸã®ã§ã™ãŒä¸Šè¨˜ã®çµæœåŒæ§˜ã€å¤§é‡ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚çµæœã¯[GoogleColabratory - image_similarity.ipynb](https://colab.research.google.com/drive/1EJnYEzrhX4ctc1kWlXm_xWRz3FxlnzhJ?usp=sharing)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

å‡ºåŠ›çµæœã¨ã²ã¨ã¤å‰ã®çµæœã‹ã‚‰é¡ä¼¼ç”»åƒã¯åŒã˜ç©ºæ¸¯ã‚’æ’®å½±ã—ãŸã‚‚ã®ã§ã‚ã‚Šã€æ’®å½±æ™‚æœŸã‚„æ’®å½±ã—ãŸæ™‚é–“å¸¯ãŒç•°ãªã‚‹ç”»åƒã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

```python
from imagededup.utils import plot_duplicates

for k, v in duplicates.items():
    if v:
        plot_duplicates(image_dir='image', 
                    duplicate_map=duplicates, 
                    filename=k)
```


# ã¾ã¨ã‚
- `trainimage.zip` / `testimage.zip` / `evaluatemodel.zip`å„ãƒ•ã‚©ãƒ«ãƒ€æ¯ã«é¡ä¼¼ç”»åƒãŒå­˜åœ¨ã™ã‚‹
- ãã‚Œã‚‰é¡ä¼¼ç”»åƒã¯åŒã˜ç©ºæ¸¯ã‚’æ’®å½±ã—ãŸã‚‚ã®ã§ã‚ã‚Šã€ãŠãã‚‰ãæ’®å½±æ™‚æœŸã‚„æ™‚é–“å¸¯ãŒç•°ãªã‚‹ã¨æ€ã‚ã‚Œã‚‹

ä¸Šè¨˜çµæœã‚’å—ã‘ã¦è¨€ãˆã‚‹ã“ã¨ã¨ã—ã¦
- è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¨æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†å‰²ã™ã‚‹éš›ã€é¡ä¼¼ç”»åƒãŒå«ã¾ã‚Œã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦åˆ†å‰²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

ä»¥ä¸Šã«ãªã‚Šã¾ã™ã€æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

# å‚è€ƒ
- [solafune - è¡›æ˜Ÿç”»åƒã‹ã‚‰ç©ºæ¸¯åˆ©ç”¨è€…æ•°ã‚’äºˆæ¸¬ ãƒ«ãƒ¼ãƒ«](https://solafune.com/#/competitions/ea90cba4-3e01-42df-9516-9ac0d7a44204)
- [Github - idealo/imagededup](https://github.com/idealo/imagededup)
